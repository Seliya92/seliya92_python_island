# !/usr/bin/python
# -*- coding: ascii -*-
# #todo: ??????????? ????????? ? ??????? ????? ?????????? ???-?? ??????? ?????????????? ??????? ? ???????? ?????????? ????.
# # ????????? ?????????? ???????? ? ???? debug.log ? ???????: ???????? ???????, ???-?? ???????, ????-????? ?????????? ??????????
# ??????:
# render, 10,  12.05.2022 12:00
# show,    5,  12.05.2022 12:02
# render, 15,  12.05.2022 12:07
#
# ????????? ?????? ??????????? ??? ????????? ??????? ? ?????????? ?????? ??????????.
# ?????????? ??????? ?????????? ?????????? ? ???? ??? ?????? ??????? ???????.


import datetime

def call_counter(func):
    func.calls = 0
    func.last_call = None

    def wrapper(*args, **kwargs):
        func.calls += 1
        func.last_call = datetime.datetime.now().strftime("%d.%m.%Y %H:%M")
        result = func(*args, **kwargs)
        with open("debug.log", "a") as f:
            f.write(f"{func.__name__}, {func.calls}, {func.last_call}\n")
        return result

    return wrapper

@call_counter
def render(a, b, c=1):
    return a*b + c

@call_counter
def show(x, y):
    return x**y

render(1, 2)
render(3, 4, 5)
show(2, 3)
show(4, 5)
render(10,20)



